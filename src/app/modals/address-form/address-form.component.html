<app-modal-header [title]="!address?'Agregar dirección':'Editar dirección'" (onReturn)="userAddresses()" (onClose)="closeModal()"></app-modal-header>
<div class="modal-body scrollbar-primary">
  <div class="px-2 py-2 mx-2">
    <form [formGroup]="addressForm">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 ">
          <div class="form-group">
            <!-- <div class="input-block">
              <label for="name"><strong>Nombrar de dirección</strong></label>
              <input type="text" id="name" formControlName="name" class="form-control" mdbInput mdbValidate>
            </div> -->
            <div class="input-block">
              <label><strong>Tipo</strong></label>
              <select class="form-control" id="type_address" formControlName="type_address" mdbInput mdbValidate>
                <option [value]="null" selected disabled></option>
                <option *ngFor="let type of typeAddressList" [value]="type._id">
                  {{type.value}}
                </option>
              </select>
            </div>
            <div class="input-block">
              <label for="name"><strong>Dirección</strong></label>
              <input type="text" id="address" formControlName="address" class="form-control" mdbInput mdbValidate>
            </div>
            <div class="input-block">
              <label><strong>Departamento</strong></label>
              <select class="form-control" id="department" formControlName="department" mdbInput mdbValidate>
                <option [value]="null" selected disabled></option>
                <option *ngFor="let department of departmentsList" [value]="department._id">
                  {{department.name}}
                </option>
              </select>
            </div>
            <div class="input-block">
              <label><strong>Provincia</strong></label>
              <select class="form-control" id="province" formControlName="province" mdbInput mdbValidate>
                <option [value]="null" selected disabled></option>
                <option *ngFor="let province of provinceList" [value]="province._id">
                  {{province.name}}
                </option>
              </select>
            </div>
            <div class="input-block">
              <label><strong>Distrito</strong></label>
              <select class="form-control" id="district" formControlName="district" mdbInput mdbValidate>
                <option [value]="null" selected disabled></option>
                <option *ngFor="let district of districtList" [value]="district._id">
                  {{district.name}}
                </option>
              </select>
            </div>
            <div class="input-block">
              <label for="name"><strong>Referencia</strong></label>
              <input type="text" id="reference" formControlName="reference" class="form-control" mdbInput mdbValidate>
            </div>
            <div class="input-block">
              <label for="name"><strong>Teléfono</strong></label>
              <input type="text" id="cellphone" formControlName="cellphone" class="form-control" mdbInput mdbValidate NoPaste OnlyNumber="true">
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
<div class="modal-footer">
  <app-button class="w-100" [color]="'primary-outline'" [size]="100" [label]="'Agregar dirección'" [bold]="true" additionalClasses="py-2" [textSize]="2" [rounded]="true" [hoverable]="false" (onClick)="createAddress()" *ngIf="!address && !loadingCreate" [disabled]="addressForm.invalid"></app-button>
  <app-modal-loading class='w-100 py-2 d-flex mx-2 justify-content-center' *ngIf="loadingCreate"></app-modal-loading>
  <app-button class="w-100" [color]="'primary-outline'" [size]="100" [label]="'Guardar cambios'" [bold]="true" additionalClasses="py-2" [textSize]="2" [rounded]="true" [hoverable]="false" (onClick)="updateAddress()" *ngIf="address && !loadingUpdate" [disabled]="addressForm.invalid"></app-button>
  <app-modal-loading class='w-100 py-2 d-flex mx-2 justify-content-center' *ngIf="loadingUpdate"></app-modal-loading>
  <app-button class="w-100" [size]="100" [label]="'Eliminar dirección'" [rounded]="true" [bold]="true" additionalClasses="py-2" [textSize]="2" [hoverable]="false" (onClick)="deleteAddress()" *ngIf="address && !loadingDelete" [disabled]="addressForm.invalid"></app-button>
  <app-modal-loading class='w-100 py-2 d-flex mx-2 justify-content-center' *ngIf="loadingDelete"></app-modal-loading>
</div>
